<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integra CTA Card</title>
    <base target="_blank">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body { margin: 0; padding: 20px; font-family: 'Manrope', sans-serif; overflow: hidden; box-sizing: border-box; }
        .card {
            background-color: #064e3b;
            border-radius: 30px;
            padding: 50px 30px;
            text-align: center;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }
        
        .illustration {
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }
        
        /* Icon Styling */
        .main-icon {
            font-size: 100px; /* Large icon size */
            color: white;
            filter: drop-shadow(0 6px 10px rgba(0,0,0,0.2));
        }

        .heading { font-size: 38px; line-height: 1.1; font-weight: 800; margin: 0 0 15px 0; text-transform: uppercase; }
        .description { font-size: 17px; line-height: 1.5; margin: 0 0 30px 0; opacity: 0.95; max-width: 400px; }

        .btn {
            text-decoration: none;
            padding: 16px 36px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 16px;
            transition: all 0.2s ease;
        }
        .btn:hover { transform: translateY(-3px); }

        @media (max-width: 480px) {
            .heading { font-size: 28px; }
            .card { padding: 40px 20px; }
            .main-icon { font-size: 80px; }
        }
    </style>
</head>
<body>
    <div class="card" id="card">
        <div class="illustration">
            <i id="fa-icon" class="fa-solid fa-handshake main-icon"></i>
        </div>
        
        <h2 class="heading" id="heading">STAY UP TO DATE</h2>
        <p class="description" id="desc">Description goes here.</p>
        <a href="#" class="btn" id="btn">Action</a>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        
        // Colors
        const bgColor = params.get('bg_color') ? '#' + params.get('bg_color') : '#0768b3';
        const textColor = params.get('text_color') ? '#' + params.get('text_color') : '#ffffff';
        const btnBg = params.get('btn_bg') ? '#' + params.get('btn_bg') : '#00c060';
        const btnText = params.get('btn_text_color') ? '#' + params.get('btn_text_color') : '#ffffff';

        document.getElementById('card').style.backgroundColor = bgColor;
        document.getElementById('card').style.color = textColor;
        const btn = document.getElementById('btn');
        btn.style.backgroundColor = btnBg;
        btn.style.color = btnText;

        // Content
        document.getElementById('heading').textContent = params.get('heading') || 'TITLE';
        document.getElementById('desc').textContent = params.get('description') || 'Description text.';
        btn.textContent = params.get('cta_text') || 'Click Here';
        btn.href = params.get('cta_href') || '#';

        // Font Awesome Icon Logic
        const iconName = params.get('icon') || 'handshake'; // default
        const iconElement = document.getElementById('fa-icon');
        
        // This clears default classes and adds the new one from URL
        iconElement.className = `fa-solid fa-${iconName} main-icon`;

        // Optional: Accent color for the icon specifically
        if (params.has('accent_color')) {
            iconElement.style.color = '#' + params.get('accent_color');
        }

        // Auto-Height for Iframe Resizing
        function sendHeight() {
            const height = document.body.scrollHeight;
            const frameId = params.get('frame_id');
            if(frameId) window.parent.postMessage({ frameHeight: height, frameId: frameId }, '*');
        }
        window.onload = sendHeight;
        window.onresize = sendHeight;
    </script>
</body>
</html>